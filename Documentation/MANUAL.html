<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<script type="text/javascript">

function init()
{
}

function kiwi_toggleSection(e)
{
	var target = e.target;
	var parent = target.parentNode.parentNode;
	for ( var i=0 ; i<parent.childNodes.length ; i++ )
	{
		var child = parent.childNodes[i];
		if ( child.getAttribute("class") && child.getAttribute("class").indexOf("level",0)==0 )
		{
			if ( child.style.display != "block" )
			{	child.style.display = "block";}
			else
			{	child.style.display = "none";}
		}
	}
}
</script>
<title>Tahchee Manual</title>
<style><!-- 
body {
	margin-left: 10%;
	margin-right: 10%;
	padding: 20pt;
	padding-top: 10pt;
	background: rgb(255,255,255);
	font:  9pt/13pt "Lucida Grande",Lucida,sans-serif;
	font:  9.5pt/12pt "Georgia",serif;
	color: rgb(80,80,80);
}

table tr td {
	font:  8pt/12pt "Lucida Grande",Lucida,sans-serif;
}

h1, h2, h3, h4 {
	font-family: "Trebuchet MS",sans-serif;
	color: rgb(22, 130, 178);
	font-weight: normal;
	padding-top: 0.5em;
}

strong {
	color: rgb(103,183,0);
}

a:link, a:active, a:visited {
	color: rgb(22,130,178);
	text-decoration: none;
}

a:hover {
	text-decoration: none;
	background-color: #dbecf4;
}

aimg {
	border: 0;
}

#header, #footer {
	font-size: 7pt;
	clear: both;
	width: 100%;
	color: rgb(177,208,223);
}

#content {
}

#footer {
	padding-top:  30pt;
	text-align: right;
}

/*  Kiwi-specific  */

.title {
	margin-bottom: 0;
}

#meta {
	width: 100%;
	padding: 5pt;
	margin-bottom:  2em;
	border-top:  1px solid rgb(150, 220, 238);
	background-color: rgb(250,250,250);
}

#meta tr td {
	color: rgb(22, 130, 178);
}

#meta tr td.name {
	font-weight: bold;
}

#content h1, #content h2{
	padding-bottom: 5pt;
	border-bottom:  1px dotted rgb(150, 220, 238);
}

#content pre {
	padding: 5pt;
	border-left:  1px solid rgb(150, 220, 238);
	padding-left: 20pt;
	background-color: rgb(250,250,250);
}

#content pre, #content code {
	font-size: 80%;
	color: rgb(143, 160, 168);
}

#content table {
	border:  1px solid rgb(150, 220, 238);
}

#content table caption {
	font-family: serif;
	padding-top: 1em;
	padding-bottom: 0.5em;
	font-style: italic;
	font-size: 90%;
	color: rgb(22, 130, 178);
}

#content table tr td {
	padding: 10px;
	background-color: rgb(250,250,250);
}

#content table tr.odd td {
	background-color: rgb(250,250,250);
}

#content span.term {
	color: rgb(22, 130, 178);
	border-bottom:  1px solid rgb(150, 220, 238);
}

#content span.quote {
	font-style: italic;
	color: rgb(120, 120, 120);
}

#content blockquote.example {
	font-size: 8pt;
	padding: 10px;
	background-color: rgb(240,240,240);
	border: 1px solid rgb(160,160,160);
}

#content blockquote.example div.title {
	margin: 0;
	padding: 0;
	padding-top: 5pt;
	padding-bottom: 5pt;
	font-size: 9pt;
	font-weight: bold;
	text-align: center;
	border-bottom: 1px dotted rgb(160,160,160);
}

#content blockquote.example pre {
	border-left:  1px solid rgb(150, 220, 238);
	padding: 0;
	padding-left: 10pt;
	font-size: 7.5pt;
}

#references {
	font:  8pt/12pt "Lucida Grande",Lucida,sans-serif;
	margin-top: 10pt;
	padding: 5pt;
	border-top:  1px solid rgb(150, 220, 238);
	background-color: rgb(250,250,250);
	color: rgb(200, 200, 200);
	font-size: 8pt;
}
#references a:link, #references a:active, #references a:visited {
	color: rgb(150,150,150);
}

#references .entry {
	padding-top: 5pt;
	clear: both;
}

#references .entry .name {
	float: left;
	font-weight: bold;
	padding-right: 5pt;
}

#references .entry .content {
	text-align: right;
}
 --></style>
</head>
<body onload="init()">
<div
	class="title"><h1>Tahchee Manual</h1></div><table id='meta'><tr><td class='name'>Author</td><td class='value'>Sébastien Pierre</td></tr><tr><td class='name'>Version</td><td class='value'>0.9.6</td></tr></table>
 <div id='content'><div class="section"><a class="link" onclick="kiwi_toggleSection(event);"><h3 class="heading">Quick setup</h3></a><div class="level3"><p>At first, you will need a Unix-based machine, or a Windows machine with an available shell (using MinGW or Cygwin), with Python 2.2+ installed.</p><ul><li><a href="http://www.ivy.fr/tahchee">Download Tahchee</a>, and decompress the tarball </li><li>Ensure that <a href="http://www.cheetahtemplate.org">Cheetah</a> (starting from version 0.9.7) is installed </li><li>Optionnaly install the <a href="http://www.pythonware.com/products/pil/">Python Imaging Library</a> (PIL) </li><li>Optionnaly install <a href="http://www.w3.org/People/Raggett/tidy/">HTML tidy</a></li></ul><p>Once this preliminary setup is done, go into the uncompressed Tahchee directory and do</p><pre>python setup.install</pre><p>You now have the <code>tahchee</code> command available in your path, and should be ready to start using Tahchee.</p><div class='note'><div class='title'>note</div><div class='content'>
You can alternatively install by copying the <code>tahchee</code> directory within the
<code>Sources</code> directory of Tahchee within your Python <code>site-packages</code> directory,
and running tahchee with the following command:
<code>python -c "import sys, tahchee.main ; tahchee.main.run(sys.argv[1:])"</code></div></div></div><div class="section"><a class="link" onclick="kiwi_toggleSection(event);"><h3 class="heading">First run</h3></a><div class="level3"><p>To test your installation, go into Tahcee <code>Documentation/Example</code> directory and type <code>make</code>. The process should run, and output lines similar to those lines:</p><pre>[ ] Mode is 'local', generating in 'Site/Local'
[ ] Precompiling template 'Example/Templates/Base'
[ ] Precompiling template 'Example/Templates/Page'
[ ] Generating file 'index.html'</pre><p>This process will create the example HTML site in the <code>Site/Local</code> subdirectory. You will find the resulting HTML in there. If you want to know what other options are available, type <code>make info</code>.</p></div><div class="section"><a class="link" onclick="kiwi_toggleSection(event);"><h3 class="heading">How the stuff works</h3></a><div class="level3"><p>Tahchee is best described as a "website compiler". You design your site with <span class='term'>templates</span>, which contain the common parts between all your pages in your website. Once you have your templates, you write <span class='term'>pages</span> which &ldquo;<span class='quote'>fill in the blanks</span>&rdquo; in the templates. The main difference between a template and a page is that a template needs the data provided by a page to render to an HTML (or whatever format) file.</p><p>So, let's look at the example data, before running tahchee :</p><pre>|-- Pages
|   |-- index.html.tmpl
|   `-- screen.css
|-- Site
|-- Templates
|   |-- Base.tmpl
|   `-- Page.tmpl</pre><p>And now after Tahchee we run (some files were omitted):</p><pre>|-- Pages
|   |-- index.html.tmpl
|   `-- screen.css
|-- Site
|   `-- Local
|       |-- index.html
|       `-- screen.css
|-- Templates
|   |-- Base.py
|   |-- Base.tmpl
|   |-- Page.py
|   |-- Page.tmpl
|   |-- __init__.py</pre><p>We see that the <code>Site/Local</code> was populated with the same content as the <code>Pages</code> directory, buf files ending in <code>.tmpl</code> were stripped of this exension. Before being stipped of their extension, the <code>.tmpl</code> files were actually processed with Tahchee to generate the resulting file (which can be HTML, or any other file, such as CSS, PHP, etc).</p><p>There are also some <code>.py</code> files in the <code>Templates</code> directory, which are actually the result of Cheetah compiling the templates files (<code>.tmpl</code>) in the <code>Templates</code> directory.</p><p>So basically, Tahchee works very simply:</p><ul><li>It compiles the <code>tmpl</code> files in the <code>Templates</code> directory </li><li>It compiles the <code>tmpl</code> files in the <code>Pages</code> directory and copies them in the <code>Site/Local</code> subdirectory, stripping them of the <code>tmpl</code> extension </li><li>It copies other files from 'Pages' to the appropriate location in the <code>Site/Local</code> directory.</li></ul></div><div class="section"><a class="link" onclick="kiwi_toggleSection(event);"><h3 class="heading">More about templates</h3></a><div class="level3"><p>You can learn the basics of using templates simply by looking at the files in the example. You will see that in our example, we have a template hierarchy:</p><pre>Base
`-- Page
    `-- index.html</pre><p>This means that a change in <code>Base</code> will affect <code>Page</code> as well as 'index.html`. By making new templates that "extend" other templates, you can build a whole set of specific templates for your site sections:</p><pre>Base
`-- Page
    `-- SectionPage
		|-- FAQPage
		|-- UserPage
		`-- ProjectPage</pre><p>If you look closer in the provided templates code, you will see that some variables (like <code>$site</code>) are already available. Tahchee actually provides access to Python object representing the current page and the website as a whole, using the following keywords:</p><ul><li><code>$page</code> refers to the current page, and is a Page object </li><li><code>$site</code> refers to the current site, and is a Site object</li></ul><p>The Page and Site objects are defined in the Tahchee Python API, available with this documentation (see <code>Documentation/API/index.html</code>). For instance, the 'site' object provides a <code>link</code> method that allows to link to a path or URL, and ensure that the link target exists.</p></div><div class="section"><a class="link" onclick="kiwi_toggleSection(event);"><h3 class="heading">Templates and the build process</h3></a><div class="level3"><p>Templates are "applied" (which means that they generate a file in the <code>Site</code> directory) under a set of conditions:</p><ul><li>They are not filtered out (see <code>ACCEPT</code> and <code>IGNORE</code> in site configuration) </li><li>The template or its parents were modified </li><li>The template was flagged with <code>ALWAYS_REBUILD</code></li></ul><p>If you want a template to be <b>always applied</b>, you should simply add the following line to the top of your template:</p><pre>## ALWAYS_REBUILD
#extends Templates.Page
...</pre><p>This will tell Tahchee that the template should be applied, wether it has changed or not.</p></div><div class="section"><a class="link" onclick="kiwi_toggleSection(event);"><h3 class="heading">Using Kiwi markup</h3></a><div class="level3"><p>Since version 1.0.0, "Tahchee" comes integrated with the <span class='term'>Kiwi</span> markup language. Kiwi is a simple, expressive text markup language that allows to create XML/HTML documents without actually writing all the HTML tag. For instance</p><pre>Here is a paragraph, followed by a list:

1) The list is numbered
2) Here is the second item
   - Here is an unnumbered sublist
3) And the third item</pre><p>generates the following HTML code:</p><pre>&lt;p&gt;Here is a paragraph, followed by a list:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The l ist is numbered &lt;/li&gt;
	&lt;li&gt;Here is the second item
		&lt;ul&gt;&lt;li&gt;Here is an unnumbered sublist&lt;/li&gt;&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;And the third item&lt;/li&gt;
&lt;/ul&gt;</pre><p>Kiwi comes pre-installed with <span class='term'>tahchee</span>. To use it, simply process any of your varuable with the <code>$site.kiwi' function. For instance, if your page template
contains a content section </code><div id='content'$content</div>' that holds your page content, and that you expect `$content' to contain Kiwi text, simply use the following:</p><pre>&lt;div id="content"&gt;$site.kiwi($content)&lt;/div&gt;</pre><p>This will enable any content to be written in Kiwi. Also, note that with kiwi you can mix HTML (or XML) with Kiwi without any problem, so you can gradually convert your HTML files to Kiwi markup if you need to.</p></div><div class="section"><a class="link" onclick="kiwi_toggleSection(event);"><h3 class="heading">Configuration</h3></a><div class="level3"><p>Tachee can be configured to meet your specific site setup. All the configuration should be made in the "build.py" file in your tahchee website directory, which present you the available options.</p><p>Your website <code>build.py</code> contains a set of options that you can change and edit. These options should look like the folowing.</p><pre># You can change the following things
# =============================================================================
URL     = "www.ivy.fr/tahchee"
INDEXES = ["index.*"]
IGNORES = [".cvs", ".CVS", ".svn", ".DS_Store"]
ACCEPTS = []
# =============================================================================</pre><p>Configuration options:</p><ul><li><span class='term'>URL</span> allows you to set the main URL from which your website will be accessed. This is useful when you want to generate a website with absolute links.</li><li><span class='term'>INDEXES</span> is a set of "globs" (shell-like patterns) that tell which files should be considered as indexes. This also affects link expansion.</li><li><span class='term'>IGNORES</span> specifies a list of "globs" of files that should be ignored. These files will not be copied or processed. You can also give paths relative to the <code>Pages</code> directory.</li><li><span class='term'>ACCEPTS</span> specifies the list of "globs" that will be processed. You should leave this empty, as if you specify one "ACCEPT", then everything not accepted will be ignored.</li></ul></div><div class="section"><a class="link" onclick="kiwi_toggleSection(event);"><h3 class="heading">Extending Tahchee</h3></a><div class="level3"><p>Tahchee can be very easily extended with various Python functions. At first, you can create a <code>Plugins</code> directory within your site project that will hold your Python modules. These modules will be made available to the templates and will allow you to invoke your custom functions.</p><ul><li>POSSIBILITY TO DECLARE NEW FUNCTIONS...</li></ul></div><div class="section"><a class="link" onclick="kiwi_toggleSection(event);"><h3 class="heading">Some advices</h3></a><div class="level3"><p>Tahchee can become quite powerful, provided you do things with a little bit of discipline. Here is what I would advice :</p><ul><li>Spend some time thinking about your site map, and the type of pages that you want to have. </li><li>Do not write too many Templates, try to keep them minimal, and make a list of the variables names taht will be filled by Pages. </li><li>Do not hesitate to use templates for your CSS files, as it can allow, for instance, to quickly change a set of predefined colors. </li><li>Cheetah templates allow to use any Python module, so do not hesitate to add extra functionality in Python modules that you can put just inside your 'Templates' directory or anywhere in your PYTHONPATH.</li></ul><p>I hope this small documentation will help you kickstart using Tahchee, if you have questions or comments, you can contact me at <a href="mailto:&#115;&#101;&#98;&#97;&#115;&#116;&#105;&#101;&#110;&#64;&#105;&#118;&#121;&#46;&#102;&#114;">&#115;&#101;&#98;&#97;&#115;&#116;&#105;&#101;&#110;&#64;&#105;&#118;&#121;&#46;&#102;&#114;</a>.</p></div></div>

</body>
</html>